<html>
    <head>
        <title>Heatmap Bikes</title>
		{% load static %}
        <link rel="stylesheet" href="{% static 'leaflet/dist/leaflet.css' %}"/>
		<link rel="stylesheet" type="text/css" href="{% static 'bootstrap/dist/css/bootstrap.min.css' %}"/>
        <script src="{% static 'jquery/dist/jquery.min.js' %}"></script>
        <script src="{% static 'bootstrap/dist/js/bootstrap.min.js' %}"></script>
		<script src="{% static 'moment/min/moment.min.js' %}"></script>
        <script src="{% static 'eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js' %}"></script>
		<script src="{% static 'leaflet/dist/leaflet.js' %}"></script>
    	<script src="{% static '/heatmap.js-amd/build/heatmap.min.js' %}"></script>
		<script src="{% static 'heatmap.js-amd/plugins/leaflet-heatmap/leaflet-heatmap.js' %}"></script>
		<script src="{% static 'seiyria-bootstrap-slider/dist/bootstrap-slider.min.js' %}"></script>
        <script src="{% static 'evaluation/map.cls.js' %}"></script>
        <script src="{% static 'evaluation/app.cls.js' %}"></script>
        <script src="{% static 'evaluation/appView.cls.js' %}"></script>
        <link rel="stylesheet" href="{% static 'eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css' %}">
        <script src="{% static 'evaluation/appPath.cls.js' %}"></script>
        <script src="{% static 'evaluation/map_layers/layer_heat.cls.js' %}"></script>
        <script src="{% static 'evaluation/map_layers/layer_path.cls.js' %}"></script>
		<link rel="stylesheet" href="{% static 'seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css' %}">
		<link rel="stylesheet" href="{% static 'css/evaluation/frame.css' %}">
		<script src="{% static 'evaluation/appExtrapolation.cls.js' %}"></script>
        <style>
              body, html { margin:0; padding:0; height:100%;}
              .leaflet-container {
                background: rgba(0,0,0,.8) !important;
              }
        </style>
        <script>
            var appConfig = [["Avaliability by Time",appView],
                             ["Routes of Bikes",appPath],
							 ["Extrapolation", appExtrapolation]]
			defaultApp = "Avaliability by Time"
        </script>
        
       
    </head>
    <body>
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Heatmap Bikes</a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav" id="nav_container">
					</ul>
				</div><!--/.nav-collapse -->
			</div>
		</nav>
		
		<div id="content">
			<div id="map_container" class="col-md-11"></div>
			<div id="control_container" class="col-md-1"></div>
		</div>
		
        <script>
            window.onload = function() {
                defaultHandler = null;
                for (C=0; C < appConfig.length; C++) {
					$('#nav_container').append('<li><a id="map_handler" href="#" onclick="mapHandler.stopApp(); mapHandler = new ' + appConfig[C][1].name + '(); mapHandler.runApp(\'map_container\',\'control_container\');return false;">'+ appConfig[C][0] +'</a></li>');
                    if(appConfig[C][0] == defaultApp) {
                        defaultHandler = appConfig[C][1];
                    }
                }
                
                if (defaultHandler != null) {
                    mapHandler = new defaultHandler();
                    mapHandler.runApp("map_container", "control_container");
                };
            };
        </script>
    </body>


</html>
